<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <!-- ğŸ¦ META TAGS ESPECIAIS PARA SAFARI/iPhone -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    
    <title>Receiver - VersÃ£o Safari</title>
    
    <!-- âœ… CSS ORIGINAL + CSS SAFARI -->
    <link rel="stylesheet" href="../mobile-style.css">
    <link rel="stylesheet" href="safari-mobile-style.css">
</head>
<body class="safari-version ios-device">
    <!-- ğŸ¦ TELA DE CARREGAMENTO SAFARI -->
    <div id="safariLoading">
        <div style="text-align: center; color: white;">
            <h2>ğŸ“± VersÃ£o Otimizada</h2>
            <p>Para iPhone e Safari</p>
            <p style="font-size: 14px; margin-top: 20px;">Carregando...</p>
        </div>
    </div>

    <!-- âœ… SEU CONTEÃšDO ORIGINAL (vamos adaptar gradualmente) -->
    <!-- Por enquanto, vamos manter a mesma estrutura -->
    <div id="loadingScreen" class="hidden-until-ready">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Preparando traduÃ§Ã£o...</p>
        </div>
    </div>

    <div class="app-container">
        <div class="video-container">
            <video id="localVideo" muted playsinline></video>
            <video id="remoteVideo" playsinline></video>
        </div>

        <div class="controls-container">
            <button id="toggleCamera" class="safari-btn">ğŸ”„ CÃ¢mera</button>
            <div id="texto-recebido" class="text-display"></div>
            <div id="click" class="click-instruction">
                <p>Toque para comeÃ§ar</p>
            </div>
        </div>

        <div class="header">
            <div class="logo" id="logo-traduz">
                <span class="language-flag">ğŸ³ï¸</span>
                <span class="local-Lang">ğŸ”´</span>
            </div>
            <div class="translator-mode" id="translator-label">
                TraduÃ§Ã£o em tempo real
            </div>
            <div class="remote-lang">
                <span class="remoter-Lang">ğŸ”´</span>
            </div>
        </div>

        <!-- QR Code Modal -->
        <div class="info-overlay hidden">
            <div class="info-content">
                <h3 id="qr-modal-title">Sua chave online</h3>
                <p id="qr-modal-description">Escaneie, compartilhe ou imprima</p>
                <div id="qrcode"></div>
                <button id="copiarLink" class="safari-btn">ğŸ”— Copiar Link</button>
            </div>
        </div>
    </div>

    <!-- âœ… SCRIPTS ORIGINAIS (carregamos os adaptados depois) -->
    <!-- Por enquanto, carrega os originais para testar -->
    <script src="../core/webrtc-core.js"></script>
    <script src="../core/camera-vigilante.js"></script>
    <script src="../js/qrcode/qr-code-utils.js"></script>
    <script src="../js/receiver/receiver-ui.js"></script>

    <script>
        console.log('ğŸ¦ Safari Receiver HTML carregado!');
        
        // ğŸ¦ Mostra que estamos na versÃ£o Safari
        document.addEventListener('DOMContentLoaded', function() {
            const loading = document.getElementById('safariLoading');
            if (loading) {
                setTimeout(() => {
                    loading.style.display = 'none';
                }, 2000);
            }
            
            console.log('âœ… Safari Receiver pronto para adaptaÃ§Ãµes');
        });
    </script>
</body>
</html>
